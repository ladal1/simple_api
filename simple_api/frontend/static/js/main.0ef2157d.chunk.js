(this.webpackJsonpfrontend_br_simple_api=this.webpackJsonpfrontend_br_simple_api||[]).push([[0],{82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),i=a.n(s),c=a(15),o=a(16),l=a(18),d=a(17),h=a(68),j=a(9),u=a(88),b=a(65),p=a(4),m=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{})}}]),a}(r.a.Component),O=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{className:""})}}]),a}(r.a.Component),f=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(p.jsxs)(u.a,{className:"flex-grow-1 overflow-hidden",children:[Object(p.jsx)(b.a,{sm:8,className:"bg-secondary pl-4 mh-100",children:Object(p.jsx)(m,{})}),Object(p.jsx)(b.a,{sm:4,className:"bg-info overflow-auto py-2 mh-100",children:Object(p.jsx)(O,{})})]})}}]),a}(r.a.Component),x=a(31),y=a(96),v=a(92),g=a(66),_=a(93),w=a(97),k=a(89),C=a(67),N=a(95),F={__objects:[{name:"Books",actions:[{name:"BookDetail",parameters:[{name:"id",widget:"textbox",type:"int",default:1}],is_allowed:!0,deny_reason:null,retry_in:0},{name:"BookDelete",parameters:[{name:"id",widget:"textbox",type:"int",default:2}],is_allowed:!1,deny_reason:"Only Employees can delete books",retry_in:0},{name:"BookBorrow",parameters:[{name:"id",widget:"textbox",type:"int",validators:[{name:"NotNegative"}],is_allowed:!0,deny_reason:null,retry_in:0},{name:"employee_id",widget:"textbox",type:"int",validators:[{name:"ValidFK"}],default:4}],data:[{name:"IDK",widget:"textbox",type:"string",default:"default_tady"}],is_allowed:!0,deny_reason:null,retry_in:0}]},{name:"Employee",actions:[{name:"EmployeeDetail",parameters:[{name:"id",widget:"textbox",type:"int"}],is_allowed:!0,deny_reason:null,retry_in:0,default:1},{name:"EmployeeDelete",parameters:[{name:"id",widget:"textbox",type:"int"}],is_allowed:!1,deny_reason:"Employees cannot be deleted for tax reasons",retry_in:0,default:1}]}],__actions:{}},S=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){for(var e=this.props.location.pathname.split("/").filter((function(e){return""!==e.trim()})),t=[],a=1;a<e.length;a++)t.push(Object(p.jsx)(N.a.Item,{active:a===e.length-1,href:"../"+e.slice(1,a+1).join("/"),children:e[a]},a));return Object(p.jsx)("div",{children:Object(p.jsx)(N.a,{children:t})})}}]),a}(r.a.Component);function E(e,t,a){var n=Object.keys(t).map((function(e){return e+": "+JSON.stringify(t[e])})).join(", "),r=Object.keys(a).map((function(e){return e+": "+JSON.stringify(a[e])})).join(", ");return""!==r?e+" ("+n+", data: {"+r+"})\n{}":e+" ("+n+")\n{}"}var q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render_item",value:function(e){return Object(p.jsx)(y.a.Item,{action:!0,href:"/Frontend/Objects/"+e,children:e},e)}},{key:"render",value:function(){var e=this,t=[];return F.__objects.forEach((function(a){t.push(e.render_item(a.name))})),Object(p.jsxs)("div",{children:[Object(p.jsx)("h6",{className:"mx-3 m-2",children:"Objekty:"}),Object(p.jsx)(y.a,{children:t})]})}}]),a}(r.a.Component),B=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e,n){var r;return Object(c.a)(this,a),(r=t.call(this,e,n)).state={show:null},r.handleShow=r.handleShow.bind(Object(x.a)(r)),r.handleClose=r.handleClose.bind(Object(x.a)(r)),r}return Object(o.a)(a,[{key:"handleClose",value:function(){this.setState({show:null})}},{key:"handleShow",value:function(e){this.setState({show:e})}},{key:"handleChangeQuery",value:function(e){console.log(e.target.value)}},{key:"create_modal",value:function(e){return Object(p.jsx)(v.a,{show:this.state.show===e.name,onHide:this.handleClose,dialogClassName:"query-dialog",contentClassName:"query-dialog",children:Object(p.jsx)(D,{action:e})},e.name)}},{key:"render_action",value:function(e){var t=this;return Object(p.jsx)(g.a,{variant:"primary",onClick:function(){t.handleShow(e.name)},className:"m-4",children:e.name},e.name)}},{key:"render",value:function(){var e=this,t=this.props.location.pathname.split("/").slice(-1).pop();if(this.buttons=[],this.modals=[],t){var a=F.__objects.find((function(e){return e.name===t}));"undefined"!==typeof a&&a.actions.forEach((function(t){e.buttons.push(e.render_action(t)),e.modals.push(e.create_modal(t))}))}return Object(p.jsxs)("div",{children:[this.buttons,this.modals]})}}]),a}(r.a.Component),D=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e,n){var r;Object(c.a)(this,a);var s=(r=t.call(this,e,n)).props.action,i={},o={};return"parameters"in s&&s.parameters.forEach((function(e){i[e.name]="default"in e?e.default:""})),"data"in s&&s.data.forEach((function(e){o[e.name]=e.default})),r.state={action:r.props.action,parameters:i,data:o,query:"",response:""},r.handleChangeQuery=r.handleChangeQuery.bind(Object(x.a)(r)),r.update_response=r.update_response.bind(Object(x.a)(r)),r.handleChangeFields=r.handleChangeFields.bind(Object(x.a)(r)),r}return Object(o.a)(a,[{key:"create_field",value:function(e,t){var a=this;return Object(p.jsx)(_.a.Control,{placeholder:e,defaultValue:this.state[t][e],onChange:function(n){a.handleChangeFields(e,t,n)}},e)}},{key:"handleChangeFields",value:function(e,t,a){this.state[t][e]=a.target.value,this.setState({query:E(this.state.action.name,this.state.parameters,this.state.data)})}},{key:"handleChangeQuery",value:function(e){this.setState({query:e.target.value})}},{key:"update_response",value:function(){this.setState({query:this.state.query,response:this.state.query})}},{key:"render",value:function(){var e=this,t=[],a=[];Object.keys(this.state.parameters).forEach((function(a){t.push(e.create_field(a,"parameters"))})),Object.keys(this.state.data).forEach((function(t){a.push(e.create_field(t,"data"))})),t.length&&t.unshift(Object(p.jsx)("strong",{children:"Parameters:"},"param_title")),a.length&&a.unshift(Object(p.jsx)("strong",{children:"Data:"},"data_title"));var n=this.state.query,r=this.state.response;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(v.a.Header,{closeButton:!0,children:Object(p.jsx)(v.a.Title,{children:{}.name})}),Object(p.jsx)(v.a.Body,{className:"container-fluid",children:Object(p.jsx)(_.a,{className:"container-fluid d-flex flex-column h-100 overflow-hidden p-1",children:Object(p.jsxs)(u.a,{className:"flex-grow-1 h-100",children:[Object(p.jsxs)(b.a,{className:"flex-grow-1 h-100",children:[t,a]}),Object(p.jsx)(b.a,{className:"flex-column pb-1 modal-tabs",children:Object(p.jsxs)(w.a,{variant:"pills",defaultActiveKey:"query",transition:!1,className:"nav-fill",children:[Object(p.jsx)(k.a,{eventKey:"query",title:"Query:",children:Object(p.jsx)(C.a,{as:"textarea",className:"no-resize border-right",value:n,onChange:this.handleChangeQuery})}),Object(p.jsx)(k.a,{eventKey:"response",title:"Response:",children:Object(p.jsx)(C.a,{readOnly:!0,as:"textarea",className:"no-resize border-right",value:r})})]})})]})})}),Object(p.jsx)(v.a.Footer,{children:Object(p.jsx)(g.a,{variant:"primary",onClick:this.update_response,children:"Save changes"})})]})}}]),a}(r.a.Component),I=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(p.jsxs)(u.a,{className:"flex-grow-1 overflow-hidden",children:[Object(p.jsx)(b.a,{sm:2,className:"bg-secondary pl-4 mh-100",children:Object(p.jsx)(q,{})}),Object(p.jsxs)(b.a,{sm:10,className:"overflow-auto py-2 mh-100",children:[Object(p.jsx)(S,{location:this.props.location}),Object(p.jsx)(B,{location:this.props.location})]})]})}}]),a}(r.a.Component),A=a(94),K=a(70),Q=a(91),J=a(90),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e="/"+this.props.location.pathname.split("/",2)[1]+"/";return Object(p.jsxs)(A.a,{variant:"dark",expand:"lg",className:"navbar-expand-lg text-white navbar-expand bg-primary",children:[Object(p.jsxs)("div",{className:"navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2",children:[Object(p.jsx)(A.a.Brand,{href:"https://www.github.com/karlosss/simple_api",children:"Simple-API"}),Object(p.jsx)("div",{className:"collapse navbar-collapse",children:Object(p.jsxs)(K.a,{variant:"pills",activeKey:".."+e,children:[Object(p.jsx)(K.a.Link,{href:"/Frontend/Objects/",children:"Objects"}),Object(p.jsx)(K.a.Link,{href:"/Frontend/Actions/",children:"Actions"})]})})]}),Object(p.jsx)("div",{className:"collapse navbar-collapse pe-4",children:Object(p.jsx)("ul",{className:"navbar-nav me-auto ms-auto",children:Object(p.jsxs)(Q.a,{children:[Object(p.jsx)(Q.a.Toggle,{id:"login-dropdown",className:"nav-link text-white",children:"Current User"}),Object(p.jsxs)(Q.a.Menu,{className:"dropdown-menu","aria-labelledby":"navbarDropdown",alignRight:!0,children:[Object(p.jsx)(Q.a.Item,{href:"#",children:"Logout Current User"}),Object(p.jsx)(Q.a.Divider,{}),Object(p.jsx)(Q.a.Item,{href:"#",children:"Admin"}),Object(p.jsx)(Q.a.Item,{href:"#",children:"Anonymous"}),Object(p.jsx)(Q.a.Divider,{}),Object(p.jsx)(Q.a.Item,{href:"#",children:"Logout All"})]})]})})})]})}}]),a}(r.a.Component),z=function(){return console.log(window.location),Object(p.jsx)("div",{children:Object(p.jsx)(J.a,{fluid:!0,className:"container-fluid d-flex flex-column vh-100 overflow-hidden p-0",children:Object(p.jsxs)(h.a,{children:[Object(p.jsx)(j.a,{path:"/",component:L}),Object(p.jsxs)(j.c,{children:[Object(p.jsx)(j.a,{path:"/Frontend/Actions/",component:f}),Object(p.jsx)(j.a,{path:"/Frontend/Objects/",component:I})]})]})})})};a(82);i.a.render(Object(p.jsx)(z,{}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.0ef2157d.chunk.js.map